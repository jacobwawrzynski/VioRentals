@using VioRentals.Core.Entities
@model IEnumerable<MovieEntity>

<table id="movies" class="table table-bordered table-hover">
    <thead>
        <tr>
            <th>Movie</th>
            <th>Genre</th>
            <th>Release Date</th>
            <th>Availability</th>
            <th>Details</th>

        </tr>
    </thead>
    <tbody>

        @foreach (var movie in Model)
        {
            <tr class="table-dark">

                <td>
                    @Html.ActionLink(movie.Name, "Edit", "Movies", new { id = movie.Id }, null)
                </td>
                <td>
                    @movie._Genre.Name
                </td>
                <td>
                    @movie.ReleaseDate.Value.ToShortDateString()
                </td>
                <td>
                    Available: <span class="badge bg-primary rounded-pill">@movie.NumberAvailable</span>
                </td>
                    <td>
                        <button class="btn btn-warning" onclick="deleteMovie(@movie.Id)">Delete</button>
                    </td>
                
                <td>
                    <button class="btn btn-success" onclick="location.href='@Url.Action("Details", "Movies", new { id = movie.Id })'">Details</button>
                </td>
            </tr>
        }
    </tbody>
</table>